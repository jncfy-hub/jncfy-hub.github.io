<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Ujian Online - JNC Edukasi</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <style>
    html, body {
      margin: 0; padding: 0;
      width: 100%; height: 100%;
      background-color: #f8f9fa;
      font-family: 'Poppins', sans-serif;
      overflow: hidden;
    }

    /* LOGIN SCREEN */
    #loginScreen {
      position: fixed; inset: 0;
      background: linear-gradient(135deg,#007bff,#00c3ff);
      display: flex; flex-direction: column;
      justify-content: center; align-items: center;
      color: white; text-align: center; z-index: 10;
    }

    #loginBox {
      background: rgba(255,255,255,0.15);
      padding: 2rem; border-radius: 20px;
      backdrop-filter: blur(10px);
      width: 90%; max-width: 400px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    }

    #loginBox h3 {margin-bottom:1rem; font-weight:600;}
    #loginBox input {margin-bottom:1rem;}

    /* EXAM SCREEN */
    #examContainer {
      display:none; flex-direction:row;
      width:100vw; height:100vh; overflow:hidden;
      background:#f8f9fa;
      transition: transform 0.6s ease;
    }

    /* Simulasi landscape di HP */
    .landscape-mode {
      transform: rotate(-90deg);
      transform-origin: left top;
      width: 100vh;
      height: 100vw;
      position: absolute;
      top: 100%;
      left: 0;
    }

    .pdf-viewer {
      flex:1; background:#fff;
      border-right:3px solid #e9ecef;
    }

    .pdf-viewer iframe {width:100%; height:100%; border:none;}

    .answer-section {
      width:35%; background:#fff; padding:1.5rem;
      display:flex; flex-direction:column;
      justify-content:space-between; overflow-y:auto;
    }

    .answer-section h4 {
      text-align:center; margin-bottom:1rem; font-weight:600;
    }

    /* LJK STYLE */
    .question-row {
      display:flex; align-items:center;
      gap:1.5rem; margin-bottom:0.8rem;
      font-size:1rem;
    }

    .options {display:flex; gap:1.2rem;}
    .options label {cursor:pointer; display:flex; align-items:center; gap:0.3rem;}
    input[type="radio"] {transform:scale(1.2);}
    .submit-btn {margin-top:1rem; font-weight:600;}
  </style>
</head>
<body>

  <!-- LOGIN -->
  <div id="loginScreen">
    <div id="loginBox">
      <h3><i class="fa-solid fa-user-graduate me-2"></i>Masuk Ujian</h3>
      <form id="loginForm">
        <input type="text" id="nama" class="form-control" placeholder="Nama Lengkap" required>
        <input type="text" id="kelas" class="form-control" placeholder="Kelas" required>
        <button type="submit" class="btn btn-light w-100 mt-2">
          <i class="fa-solid fa-arrow-right-to-bracket"></i> Mulai Ujian
        </button>
      </form>
    </div>
  </div>

  <!-- UJIAN -->
  <div id="examContainer">
    <div class="pdf-viewer">
      <iframe src="https://drive.google.com/file/d/1LVRvQf8FqltAgzNzzVY-mGOZG0efzsC0/preview" allow="autoplay"></iframe>
    </div>

    <div class="answer-section">
      <div>
        <h4><i class="fa-solid fa-pen"></i> Lembar Jawaban</h4>
        <p><strong>Nama:</strong> <span id="userName"></span><br>
        <strong>Kelas:</strong> <span id="userClass"></span></p>

        <form id="examForm">
          <div class="question-row">
            <span>1.</span>
            <div class="options">
              <label><input type="radio" name="soal1" value="A"> A</label>
              <label><input type="radio" name="soal1" value="B"> B</label>
              <label><input type="radio" name="soal1" value="C"> C</label>
              <label><input type="radio" name="soal1" value="D"> D</label>
            </div>
          </div>

          <div class="question-row">
            <span>2.</span>
            <div class="options">
              <label><input type="radio" name="soal2" value="A"> A</label>
              <label><input type="radio" name="soal2" value="B"> B</label>
              <label><input type="radio" name="soal2" value="C"> C</label>
              <label><input type="radio" name="soal2" value="D"> D</label>
            </div>
          </div>

          <div class="question-row">
            <span>3.</span>
            <div class="options">
              <label><input type="radio" name="soal3" value="A"> A</label>
              <label><input type="radio" name="soal3" value="B"> B</label>
              <label><input type="radio" name="soal3" value="C"> C</label>
              <label><input type="radio" name="soal3" value="D"> D</label>
            </div>
          </div>
        </form>
      </div>

      <button id="submitBtn" class="btn btn-primary w-100 submit-btn">
        <i class="fa-solid fa-paper-plane"></i> Kirim Jawaban
      </button>
    </div>
  </div>

  <script>
    const loginForm = document.getElementById("loginForm");
    const loginScreen = document.getElementById("loginScreen");
    const examContainer = document.getElementById("examContainer");

    // LOGIN
    loginForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const nama = document.getElementById("nama").value.trim();
      const kelas = document.getElementById("kelas").value.trim();

      if (nama && kelas) {
        document.getElementById("userName").textContent = nama;
        document.getElementById("userClass").textContent = kelas;

        loginScreen.style.display = "none";
        examContainer.style.display = "flex";

        // Masuk fullscreen
        try {
          await document.documentElement.requestFullscreen();
        } catch (err) {
          alert("⚠️ Gagal masuk fullscreen otomatis, aktifkan manual.");
        }

        // Aktifkan mode landscape simulasi
        if (window.innerWidth < 768) {
          examContainer.classList.add("landscape-mode");
        }
      }
    });

    // KIRIM JAWABAN
    document.getElementById("submitBtn").addEventListener("click", () => {
      const form = document.getElementById("examForm");
      const data = new FormData(form);
      let hasil = "";
      for (let [key, value] of data.entries()) {
        hasil += `${key}: ${value}\n`;
      }
      alert("✅ Jawaban terkirim!\n\n" + hasil);
    });
  </script>
</body>
</html>
